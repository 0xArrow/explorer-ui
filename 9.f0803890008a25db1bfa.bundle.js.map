{"version":3,"file":"9.f0803890008a25db1bfa.bundle.js","sources":["webpack:///./node_modules/@storybook/addon-storysource/dist/events.js","webpack:///./node_modules/@alethio/ui/lib/overlay/Popover.js"],"sourcesContent":["\"use strict\";\n\nrequire(\"core-js/modules/es.object.define-property\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.EVENT_ID = exports.PANEL_ID = exports.ADDON_ID = void 0;\nvar ADDON_ID = 'storybook/storysource';\nexports.ADDON_ID = ADDON_ID;\nvar PANEL_ID = \"\".concat(ADDON_ID, \"/panel\");\nexports.PANEL_ID = PANEL_ID;\nvar EVENT_ID = \"\".concat(ADDON_ID, \"/set\");\nexports.EVENT_ID = EVENT_ID;","import * as tslib_1 from \"tslib\";\nimport * as React from \"react\";\nimport * as ReactDOM from \"react-dom\";\nimport { Manager, Reference, Popper } from \"react-popper\";\nimport { observer } from \"mobx-react\";\nimport { DomNodeProxy } from \"../util/react/DomNodeProxy\";\nimport styled, { css } from \"../styled-components\";\nconst getArrowStyle = (placement, arrowSize, arrowColor) => {\n    let neutralBorder = arrowSize + \"px solid transparent\";\n    let colorBorder = arrowSize + \"px solid \" + arrowColor;\n    if (!placement) {\n        return ``;\n    }\n    if (placement.startsWith(\"top\")) {\n        return css `\n            transform: translateX(-50%);\n            border-left: ${neutralBorder};\n            border-right: ${neutralBorder};\n            border-top: ${colorBorder};\n        `;\n    }\n    else if (placement.startsWith(\"bottom\")) {\n        return css `\n            transform: translateX(-50%);\n            top: -${arrowSize}px;\n            border-left: ${neutralBorder};\n            border-right: ${neutralBorder};\n            border-bottom: ${colorBorder};\n        `;\n    }\n    else if (placement.startsWith(\"left\")) {\n        return css `\n            transform: translateY(-50%);\n            right: -${arrowSize}px;\n            border-top: ${neutralBorder};\n            border-left: ${colorBorder};\n            border-bottom: ${neutralBorder};\n        `;\n    }\n    else if (placement.startsWith(\"right\")) {\n        return css `\n            transform: translateY(-50%);\n            left: -${arrowSize}px;\n            border-top: ${neutralBorder};\n            border-right: ${colorBorder};\n            border-bottom: ${neutralBorder};\n        `;\n    }\n    else {\n        return ``;\n    }\n};\nconst getArrowPosition = (placement) => {\n    if (!placement) {\n        return ``;\n    }\n    if (placement.startsWith(\"bottom\")) {\n        return css `\n            top: 0;\n        `;\n    }\n    else if (placement.startsWith(\"left\")) {\n        return css `\n            right: 0;\n        `;\n    }\n    else {\n        return ``;\n    }\n};\nconst Arrow = styled(\"div\").withConfig({ displayName: \"Arrow\", componentId: \"sc-3et2m1\" }) `\n    position: absolute;\n    ${props => getArrowPosition(props.placement)}\n\n    &:before, &:after {\n        content: \"\";\n        position: absolute;\n    }\n    &:before {\n        ${props => props.borderColor ? getArrowStyle(props.placement, 6, props.borderColor) : ``}\n    }\n    &:after {\n        ${props => getArrowStyle(props.placement, 5, props.backgroundColor)}\n    }\n`;\nlet Popover = class Popover extends React.Component {\n    render() {\n        return (React.createElement(Manager, null,\n            React.createElement(Reference, null, ({ ref }) => React.createElement(DomNodeProxy, { onMount: el => ref(el), onUnmount: el => ref(null) }, this.props.children)),\n            this.props.visible ?\n                ReactDOM.createPortal(React.createElement(Popper, Object.assign({ placement: this.props.placement, modifiers: Object.assign({ offset: {\n                            offset: `${this.props.alignmentOffset + \"px\" || 0}, ${this.props.offset}px`\n                        } }, (this.props.noFlip ? { flip: { enabled: false } } : {})) }, (this.props.referenceElement ? { referenceElement: this.createReferenceObject() } : {})), ({ ref, style, placement, arrowProps }) => (React.createElement(\"div\", { ref: ref, onClick: e => e.stopPropagation(), style: Object.assign({}, style, { background: this.props.backgroundColor, boxShadow: \"0 2px 6px 0 rgba(0, 0, 0, .08)\", border: this.props.borderColor ? \"1px solid \" + this.props.borderColor : void 0, boxSizing: \"border-box\", pointerEvents: this.props.nonInteractive ? \"none\" : void 0 }, this.props.style), \"data-placement\": placement },\n                    this.props.content,\n                    !this.props.noArrow ?\n                        React.createElement(Arrow, { placement: placement, backgroundColor: this.props.backgroundColor, borderColor: this.props.borderColor, innerRef: arrowProps.ref, style: arrowProps.style })\n                        : null))), document.body)\n                : null));\n    }\n    createReferenceObject() {\n        let referenceEl = this.props.referenceElement;\n        if (typeof referenceEl !== \"function\") {\n            return referenceEl;\n        }\n        const getWrapperEl = referenceEl;\n        return {\n            getBoundingClientRect() {\n                return getWrapperEl() ? getWrapperEl().getBoundingClientRect() :\n                    { bottom: 0, left: 0, right: 0, top: 0, height: 0, width: 0 };\n            },\n            get clientWidth() {\n                return getWrapperEl() ? getWrapperEl().clientWidth : 0;\n            },\n            get clientHeight() {\n                return getWrapperEl() ? getWrapperEl().clientHeight : 0;\n            }\n        };\n    }\n};\nPopover.defaultProps = {\n    backgroundColor: \"#fff\",\n    placement: \"top\",\n    offset: 0\n};\nPopover = tslib_1.__decorate([\n    observer\n], Popover);\nexport { Popover };\n//# sourceMappingURL=Popover.js.map"],"mappings":"AAEA;;ACcA;AACA;AACA;AAGA;;AAGA;AACA;AACA;AACA;AAGA;;AAGA;AACA;AACA;AACA;AAGA;;AAGA;AACA;AACA;AACA;AAIA;;AAuBA;;AAXA;;AAMA;AACA;;;;;;AAWA;;;AAGA;;AAGA","sourceRoot":""}